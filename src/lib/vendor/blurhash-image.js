{let e,t=12.92,a=255,l=.055,n=1+l,{max:r,min:c,PI:s,cos:m,round:i,sign:o}=Math,d=e=>[...e].reduce(((e,t)=>83*e+"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~".indexOf(t)),0);customElements.define("blurhash-image",class extends HTMLElement{connectedCallback(){try{let h=this.getAttribute("blurhash"),u=document.createElement("canvas"),g=u.getContext("2d"),f=d(h[0]),p=1+(f/9|0),b=f%9+1,x=(d(h[1])+1)/166,y=[],D=new Uint8Array(256),E=0,I=g.createImageData(8,8);u.width=u.height=8;for(let r=0;r<b*p;r++)y[r]=r?(e=d(h.slice(4+2*r,6+2*r)),[e/361|0,(e/19|0)%19,e%19,a].map((e=>(e-9)/9)).map((e=>o(e)*e**2*x))):(e=d(h.slice(2,6)),[e>>16,e>>8&a,e&a,a].map((r=>(e=r/a,e<=4/99?e/t:((e+l)/n)**2.4)))),y[r][3]=1;for(let o=0;o<8;o++)for(let d=0;d<8;d++){e=[0,0,0,1];for(let t=0;t<p;t++)for(let a=0;a<b;a++){let l=m(s*d*a/8)*m(s*o*t/8);e=e.map(((e,n)=>e+y[a+t*b][n]*l))}e.map((s=>D[E++]=(e=r(0,c(1,s)),i((e<=1/319?e*t:n*e**(1/2.4)-l)*a+.5))))}I.data.set(D),g.putImageData(I,0,0),this.style.background=`url("${u.toDataURL()}")0 0/100%`}catch{}}})}